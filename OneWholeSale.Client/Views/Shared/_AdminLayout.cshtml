@using Microsoft.AspNetCore.Http
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor
@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>
        One ERP
    </title>
    <!-- <base href="" /> -->
    <meta name="description" content="Welcome">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no, minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="msapplication-tap-highlight" content="no">
    <link id="vendorsbundle" rel="stylesheet" media="screen, print" href="~/Animation/css/vendors.bundle.css">
    <link id="appbundle" rel="stylesheet" media="screen, print" href="~/Animation/css/app.bundle.css">
    <link id="mytheme" rel="stylesheet" media="screen, print" href="~/Animation/css/themes/cust-theme-12.css">
    <link id="myskin" rel="stylesheet" media="screen, print" href="~/Animation/css/skins/skin-master.css">
    <link rel="stylesheet" media="screen, print" href="~/Animation/css/site.css">
    <link rel="apple-touch-icon" sizes="180x180" href="~/Animation/img/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="~/Animation/img/favicon/favicon-32x32.png">
    <link rel="mask-icon" href="~/Animation/img/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="stylesheet" media="screen, print" href="~/Animation/css/datagrid/datatables/datatables.bundle.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="~/Animation/css/CustomInputStyle.css" rel="stylesheet" />
    <link href="~/Animation/css/loader.css" rel="stylesheet" />
    <style>
        .alert-dismissable {
            -webkit-animation: fadeinout 4s linear forwards;
            animation: fadeinout 4s linear forwards;
        }

        @@-webkit-keyframes fadeinout {
            0%, 100% {
                opacity: 0;
            }

            50% {
                opacity: 1;
            }
        }

        @@keyframes fadeinout {
            0%, 100% {
                opacity: 0;
            }

            50% {
                opacity: 1;
            }
        }
    </style>
</head>
<body class="mod-bg-1 mod-nav-link mod-nav-link">
    <script>
        /**
         *  This script should be placed right after the body tag for fast execution
         *  Note: the script is written in pure javascript and does not depend on thirdparty library
         **/
        'use strict';
        var classHolder = document.getElementsByTagName("BODY")[0],
            /**
             * Load from localstorage
             **/
            themeSettings = (localStorage.getItem('themeSettings')) ? JSON.parse(localStorage.getItem('themeSettings')) : {},
            themeURL = themeSettings.themeURL || '',
            themeOptions = themeSettings.themeOptions || '';
        /**
         * Load theme options
         **/
        if (themeSettings.themeOptions) {
            classHolder.className = themeSettings.themeOptions;
            console.log("%c✔ Theme settings loaded", "color: #148f32");
        } else {
            console.log("%c✔ Heads up! Theme settings is empty or does not exist, loading default settings...", "color: #ed1c24");
        }
        if (themeSettings.themeURL && !document.getElementById('mytheme')) {
            var cssfile = document.createElement('link');
            cssfile.id = 'mytheme';
            cssfile.rel = 'stylesheet';
            cssfile.href = themeURL;
            document.getElementsByTagName('head')[0].appendChild(cssfile);
        } else if (themeSettings.themeURL && document.getElementById('mytheme')) {
            document.getElementById('mytheme').href = themeSettings.themeURL;
        }
        /**
         * Save to localstorage
         **/
        var saveSettings = function () {
            themeSettings.themeOptions = String(classHolder.className).split(/[^\w-]+/).filter(function (item) {
                return /^(nav|header|footer|mod|display)-/i.test(item);
            }).join(' ');
            if (document.getElementById('mytheme')) {
                themeSettings.themeURL = document.getElementById('mytheme').getAttribute("href");
            };
            localStorage.setItem('themeSettings', JSON.stringify(themeSettings));
        }
        /**
         * Reset settings
         **/
        var resetSettings = function () {
            localStorage.setItem("themeSettings", "");
        }
    </script>
    <div class="page-wrapper">
        <div class="page-inner">
            <aside class="page-sidebar">
                <div class="page-logo">
                   @* <a href="#" class="page-logo-link press-scale-down d-flex align-items-center position-relative">
                        <img src="~/Animation/img/errp.png"style="width:259px;height:73px" aria-roledescription="logo" />
                    </a>*@
                </div>
                <nav id="js-primary-nav" class="primary-nav" role="navigation">
                    <div class="nav-filter">
                        <div class="position-relative">
                            <input type="text" id="nav_filter_input" placeholder="Filter menu" class="form-control" tabindex="0">
                            <a href="#" onclick="return false;" class="btn-primary btn-search-close js-waves-off" data-action="toggle" data-class="list-filter-active" data-target=".page-sidebar">
                                <i class="fal fa-chevron-up"></i>
                            </a>
                        </div>
                    </div>
                    <!-- <div class="info-card">
                        <img src="img/demo/avatars/avatar-admin.png" class="profile-image rounded-circle" alt="Dr. Codex Lantern">
                        <div class="info-card-text">
                            <a href="#" class="d-flex align-items-center text-white">
                                <span class="text-truncate text-truncate-sm d-inline-block">
                                    Dr. Codex Lantern
                                </span>
                            </a>
                            <span class="d-inline-block text-truncate text-truncate-sm">Toronto, Canada</span>
                        </div>
                        <img src="img/card-backgrounds/cover-5-lg.png" class="cover" alt="cover">
                        <a href="#" onclick="return false;" class="pull-trigger-btn" data-action="toggle" data-class="list-filter-active" data-target=".page-sidebar" data-focus="nav_filter_input">
                            <i class="fal fa-angle-down"></i>
                        </a>
                    </div> -->
                    <ul id="js-nav-menu" class="nav-menu">
                    <li>
                        <a href="/Home/Dashboard">
                            <div class="menu-title">Dashboard</div>
                        </a>
                    </li>
                    <li>

                        <a href="javascript:" title="Application Intel" data-filter-tags="application intel" id="container">
                            <span class="nav-link-text" data-i18n="nav.application_intel">Master</span>
                            <div class="list-icon"><i id="icon" class="fa fa-angle-down" aria-hidden="true"></i></div>
                        </a>
                        <ul>
                            <li>
                                <a href="/Home/Country"><i class="bx bx-right-arrow-alt"></i>Country</a>
                            </li>
                            <li>
                                <a href="/Home/State"><i class="bx bx-right-arrow-alt"></i>State</a>
                            </li>
                            <li>
                                <a href="/Home/District"><i class="bx bx-right-arrow-alt"></i>District</a>
                            </li>
                            <li>
                                <a href="/Home/SalesPersonDetails"><i class="bx bx-right-arrow-alt"></i>Sales Person Details</a>
                            </li>
                            <li>
                                <a href="/Home/FulfilmentCenter"><i class="bx bx-right-arrow-alt"></i>Fulfilment Center</a>
                            </li>
                            <li>
                               <a href="/Home/Partner"><i class="bx bx-right-arrow-alt"></i>Partner</a>
                            </li>
                             <li>
                               <a href="/Home/KiranaMaster"><i class="bx bx-right-arrow-alt"></i>Kirana Master</a>
                            </li>
                            <li>
                               <a href="/Home/VendorMaster"><i class="bx bx-right-arrow-alt"></i>Vendor Master</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="javascript:" title="Application Intel" data-filter-tags="application intel" id="container">
                            <span class="nav-link-text" data-i18n="nav.application_intel">Vendor</span>
                            <div class="list-icon"><i id="icon" class="fa fa-angle-down" aria-hidden="true"></i></div>
                        </a>
                        <ul>
                            <li>
                                <a href="/Home/VendorContactPerson"><i class="bx bx-right-arrow-alt"></i>Contact Person</a>
                            </li>
                            <li>
                                <a href="/Home/VendorCategory"><i class="bx bx-right-arrow-alt"></i>Category</a>
                            </li>
                            <li>
                                <a href="/Home/VendorSubCategory"><i class="bx bx-right-arrow-alt"></i>Sub-Category</a>
                            </li>
                            <li>
                                    <a href="/Home/Product"><i class="bx bx-right-arrow-alt"></i>Product</a>
                            </li>
                        </ul>
                    </li>
                    
                    </ul>
                    <div class="filter-message js-filter-message bg-success-600"></div>
                </nav>
            </aside>
            <div class="page-content-wrapper">
                <header class="page-header" role="banner">

                    <div class="hidden-md-down dropdown-icon-menu position-relative">
                        <a href="#" class="header-btn btn js-waves-off" data-action="toggle" data-class="nav-function-hidden" title="Hide Navigation">
                            <i class="ni ni-menu"></i>
                        </a>
                        <ul>
                            <li>
                                <a href="#" class="btn js-waves-off" data-action="toggle" data-class="nav-function-minify" title="Minify Navigation">
                                    <i class="ni ni-minify-nav"></i>
                                </a>
                            </li>
                            <li>
                                <a href="#" class="btn js-waves-off" data-action="toggle" data-class="nav-function-fixed" title="Lock Navigation">
                                    <i class="ni ni-lock-nav"></i>
                                </a>
                            </li>
                        </ul>
                    </div>

                    <div class="ml-auto d-flex">
                       @* @if (Convert.ToInt32(HttpContextAccessor.HttpContext.Session.GetString("UserType")) == 5 || Convert.ToInt32(HttpContextAccessor.HttpContext.Session.GetString("UserType")) == 1 || Convert.ToInt32(HttpContextAccessor.HttpContext.Session.GetString("UserType")) == 2)
                        {*@
                            <div style="display: flex; align-items: center;">
                                <span id="timerrr" style="font-weight:bold;color:red;margin-right:23px;font-size:15px;"></span>

                            </div>
                     @*   }
                        @if (HttpContextAccessor.HttpContext.Session.GetString("UserType") != null)
                        {
                            <div style="display: flex; align-items: center;">
                                <span style="font-weight: 600;font-size: 14px;color: #faa63f;">Welcome @HttpContextAccessor.HttpContext.Session.GetString("UserType")</span>
                            </div>
                        }
                        else
                        {
                            <div style="display: flex; align-items: center;">
                                <span style="font-weight: 600;font-size: 14px;color: #faa63f;">Welcome Admin</span>
                            </div>
                        }*@
                        <div>
                            <a href="#" data-toggle="dropdown" title="drlantern@gotbootstrap.com" class="header-icon d-flex align-items-center justify-content-center ml-2">
                                <img src="~/Animation/img/admin.jpg" class="profile-image rounded-circle">
                            </a>
                            <div class="dropdown-menu dropdown-menu-animated dropdown-lg">
                                <div class="dropdown-header bg-trans-gradient d-flex flex-row py-4 rounded-top">
                                    <div class="d-flex flex-row align-items-center mt-1 mb-1 color-white">
                                        <span class="mr-2">
                                            <img src="~/Animation/img/admin.jpg" class="rounded-circle profile-image" alt="Dr. Codex Lantern">
                                        </span>
                                        <div class="info-card-text">
                                            <div class="fs-lg text-truncate text-truncate-lg">Mr. @HttpContextAccessor.HttpContext.Session.GetString("UserType")</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="dropdown-divider m-0"></div>

                                <div class="dropdown-divider m-0"></div>
                                <a href="#" class="dropdown-item" data-action="app-fullscreen">
                                    <span data-i18n="drpdwn.fullscreen">Fullscreen</span>
                                    <i class="float-right text-muted fw-n">F11</i>
                                </a>

                                <a href="/Home/ChangePassword" class="dropdown-item">
                                    <span>Change Password</span>
                                </a>
                                <div class="dropdown-divider m-0"></div>
                                <a class="dropdown-item fw-500 pt-3 pb-3" href="/Home/Logout">
                                    <span data-i18n="drpdwn.page-logout">Logout</span>
                                    <span class="float-right fw-n">@HttpContextAccessor.HttpContext.Session.GetString("UserType")</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </header>
                <main id="js-page-content" role="main" class="page-content">

                    @RenderBody()

                    @*@if (Session["username"] != null)
                        {
                            @RenderBody()
                        }
                        else
                        {
                            @Url.Action("Login", "Home");
                        }*@
                </main>
                <div class="page-content-overlay" data-action="toggle" data-class="mobile-nav-on"></div>
                <footer class="page-footer" role="contentinfo">
                    <div class="d-flex align-items-center flex-1 text-muted">
                        <span class="hidden-md-down fw-700">@DateTime.Now.Year &copy; Design and developed by&nbsp;<a href="#" class="text-primary fw-500" title="Walapa" target="_blank">R & J</a></span>
                    </div>

                </footer>


            </div>
        </div>
    </div>

    <script src="~/Animation/js/vendors.bundle.js"></script>
    <script src="~/Animation/js/app.bundle.js"></script>
    <script src="~/Animation/js/site.js"></script>
    <!-- marketing -->
    <script type="text/javascript">
        /* Activate smart panels */
        $('#js-page-content').smartPanel();
    </script>
    <script src="~/Animation/js/statistics/peity/peity.bundle.js"></script>
    <script src="~/Animation/js/statistics/flot/flot.bundle.js"></script>
    <script src="~/Animation/js/statistics/easypiechart/easypiechart.bundle.js"></script>
    <script src="~/Animation/js/datagrid/datatables/datatables.bundle.js"></script>
    <script src="~/Animation/js/datagrid/datatables/datatables.export.js"></script>

    <script src="~/Animation/js/CustomInputPrevent.js"></script>
    <script>
        const containers = document.querySelectorAll('#container');

        containers.forEach(container => {
            const icon = container.querySelector('#icon');

            container.addEventListener('click', () => {
                icon.parentNode.classList.toggle('rotate');
            });
        });
    </script>
    <script>
        /* defined datas */
        var dataTargetProfit = [
            [1354586000000, 153],
            [1364587000000, 658],
            [1374588000000, 198],
            [1384589000000, 663],
            [1394590000000, 801],
            [1404591000000, 1080],
            [1414592000000, 353],
            [1424593000000, 749],
            [1434594000000, 523],
            [1444595000000, 258],
            [1454596000000, 688],
            [1464597000000, 364]
        ]
        var dataProfit = [
            [1354586000000, 53],
            [1364587000000, 65],
            [1374588000000, 98],
            [1384589000000, 83],
            [1394590000000, 980],
            [1404591000000, 808],
            [1414592000000, 720],
            [1424593000000, 674],
            [1434594000000, 23],
            [1444595000000, 79],
            [1454596000000, 88],
            [1464597000000, 36]
        ]
        var dataSignups = [
            [1354586000000, 647],
            [1364587000000, 435],
            [1374588000000, 784],
            [1384589000000, 346],
            [1394590000000, 487],
            [1404591000000, 463],
            [1414592000000, 479],
            [1424593000000, 236],
            [1434594000000, 843],
            [1444595000000, 657],
            [1454596000000, 241],
            [1464597000000, 341]
        ]
        var dataSet1 = [
            [0, 10],
            [100, 8],
            [200, 7],
            [300, 5],
            [400, 4],
            [500, 6],
            [600, 3],
            [700, 2]
        ];
        var dataSet2 = [
            [0, 9],
            [100, 6],
            [200, 5],
            [300, 3],
            [400, 3],
            [500, 5],
            [600, 2],
            [700, 1]
        ];
        $(document).ready(function () {
            /* init datatables */
            $('#dt-basic-example').dataTable(
                {
                    responsive: true,

                    dom:
                        "<'row mb-3'<'col-sm-12 col-md-6 d-flex align-items-center justify-content-start'f><'col-sm-12 col-md-6 d-flex align-items-center justify-content-end'B>>" +
                        "<'row'<'col-sm-12'tr>>" +
                        "<'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",
                    buttons: [

                        {
                            extend: 'csvHtml5',
                            text: 'CSV',
                            titleAttr: 'Generate CSV',
                            className: 'btn-outline-default'
                        },

                        {
                            extend: 'print',
                            text: '<i class="fal fa-print"></i>',
                            titleAttr: 'Print Table',
                            className: 'btn-outline-default'
                        }
                    ]
                });
            $('#dt-basic-example1').dataTable(
                {
                    responsive: true

                });

            $('.js-thead-colors a').on('click', function () {
                var theadColor = $(this).attr("data-bg");
                console.log(theadColor);
                $('#dt-basic-example thead').removeClassPrefix('bg-').addClass(theadColor);
            });

            $('.js-tbody-colors a').on('click', function () {
                var theadColor = $(this).attr("data-bg");
                console.log(theadColor);
                $('#dt-basic-example').removeClassPrefix('bg-').addClass(theadColor);
            });
            /* flot toggle example */
            var flot_toggle = function () {
                var data = [{
                    label: "Target Profit",
                    data: dataTargetProfit,
                    color: color.info._400,
                    bars: {
                        show: true,
                        align: "center",
                        barWidth: 30 * 30 * 60 * 1000 * 80,
                        lineWidth: 0,
                        /*fillColor: {
                            colors: [color.primary._500, color.primary._900]
                        },*/
                        fillColor: {
                            colors: [{
                                opacity: 0.9
                            }, {
                                opacity: 0.1
                            }]
                        }
                    },
                    highlightColor: 'rgba(255,255,255,0.3)',
                    shadowSize: 0
                }, {
                    label: "Actual Profit",
                    data: dataProfit,
                    color: color.warning._500,
                    lines: {
                        show: true,
                        lineWidth: 2
                    },
                    shadowSize: 0,
                    points: {
                        show: true
                    }
                }, {
                    label: "User Signups",
                    data: dataSignups,
                    color: color.success._500,
                    lines: {
                        show: true,
                        lineWidth: 2
                    },
                    shadowSize: 0,
                    points: {
                        show: true
                    }
                }]
                var options = {
                    grid: {
                        hoverable: true,
                        clickable: true,
                        tickColor: 'rgba(0,0,0,0.05)',
                        borderWidth: 1,
                        borderColor: 'rgba(0,0,0,0.05)'
                    },
                    tooltip: true,
                    tooltipOpts: {
                        cssClass: 'tooltip-inner',
                        defaultTheme: false
                    },
                    xaxis: {
                        mode: "time",
                        tickColor: 'rgba(0,0,0,0.05)',
                    },
                    yaxes: {
                        tickColor: 'rgba(0,0,0,0.05)',
                        tickFormatter: function (val, axis) {
                            return "$" + val;
                        },
                        max: 1200
                    }
                };
                var plot2 = null;
                function plotNow() {
                    var d = [];
                    $("#js-checkbox-toggles").find(':checkbox').each(function () {
                        if ($(this).is(':checked')) {
                            d.push(data[$(this).attr("name").substr(4, 1)]);
                        }
                    });
                    if (d.length > 0) {
                        if (plot2) {
                            plot2.setData(d);
                            plot2.draw();
                        } else {
                            plot2 = $.plot($("#flot-toggles"), d, options);
                        }
                    }
                };
                $("#js-checkbox-toggles").find(':checkbox').on('change', function () {
                    plotNow();
                });
                plotNow()
            }
            flot_toggle();
            /* flot toggle example -- end*/
            /* flot area */
            var flotArea = $.plot($('#flot-area'), [{
                data: dataSet1,
                label: 'New Customer',
                color: color.success._200
            },
            {
                data: dataSet2,
                label: 'Returning Customer',
                color: color.info._200
            }
            ], {
                series: {
                    lines: {
                        show: true,
                        lineWidth: 2,
                        fill: true,
                        fillColor: {
                            colors: [{
                                opacity: 0
                            }, {
                                opacity: 0.5
                            }]
                        }
                    },
                    shadowSize: 0
                },
                points: {
                    show: true,
                },
                legend: {
                    noColumns: 1,
                    position: 'nw'
                },
                grid: {
                    hoverable: true,
                    clickable: true,
                    borderColor: '#ddd',
                    tickColor: 'rgba(0,0,0,0.05)',
                    aboveData: true,
                    borderWidth: 0,
                    labelMargin: 5,
                    backgroundColor: 'transparent'
                },
                yaxis: {
                    tickLength: 1,
                    min: 0,
                    max: 15,
                    color: '#eee',
                    tickColor: 'rgba(0,0,0,0.05)',
                    font: {
                        size: 0,
                        color: '#999'
                    }
                },
                xaxis: {
                    tickLength: 1,
                    color: '#eee',
                    tickColor: 'rgba(0,0,0,0.05)',
                    font: {
                        size: 10,
                        color: '#999'
                    }
                }
            });
            /* flot area -- end */
            var flotVisit = $.plot('#flotVisit', [{
                data: [
                    [3, 0],
                    [4, 1],
                    [5, 3],
                    [6, 3],
                    [7, 10],
                    [8, 11],
                    [9, 12],
                    [10, 9],
                    [11, 12],
                    [12, 8],
                    [13, 5]
                ],
                color: color.success._200
            }, {
                data: [
                    [1, 0],
                    [2, 0],
                    [3, 1],
                    [4, 2],
                    [5, 2],
                    [6, 5],
                    [7, 8],
                    [8, 12],
                    [9, 9],
                    [10, 11],
                    [11, 5]
                ],
                color: color.info._200
            }], {
                series: {
                    shadowSize: 0,
                    lines: {
                        show: true,
                        lineWidth: 2,
                        fill: true,
                        fillColor: {
                            colors: [{
                                opacity: 0
                            }, {
                                opacity: 0.12
                            }]
                        }
                    }
                },
                grid: {
                    borderWidth: 0
                },
                yaxis: {
                    min: 0,
                    max: 15,
                    tickColor: 'rgba(0,0,0,0.05)',
                    ticks: [
                        [0, ''],
                        [5, '100K'],
                        [10, '200K'],
                        [15, '300K']
                    ],
                    font: {
                        color: '#444',
                        size: 10
                    }
                },
                xaxis: {
                    tickColor: 'rgba(0,0,0,0.05)',
                    ticks: [
                        [2, '2am'],
                        [3, '3am'],
                        [4, '4am'],
                        [5, '5am'],
                        [6, '6am'],
                        [7, '7am'],
                        [8, '8am'],
                        [9, '9am'],
                        [10, '1pm'],
                        [11, '2pm'],
                        [12, '3pm'],
                        [13, '4pm']
                    ],
                    font: {
                        color: '#999',
                        size: 9
                    }
                }
            });

        });
    </script>

</body>
</html>